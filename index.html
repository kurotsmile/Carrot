<html lang="en-US" class="dark">
<head>
    <title>Carrot Store</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#FFFFFF">
    <meta property="og:title" content="Carrot Store">
    <meta property="og:description" content="Carrot Store is an app store that introduces my gadgets and games to everyone in the world. These add-ons are all resources that I use in my apps, I don't want to waste them so I share them through this app store">

    <link rel="shortcut icon" href="images/favicon.ico" type="images/x-icon"/>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/js-snackbar.min.css" />
    <link href="fontawesome6.4.0/css/fontawesome.css" rel="stylesheet">
    <link href="fontawesome6.4.0/css/brands.css" rel="stylesheet">
    <link href="fontawesome6.4.0/css/solid.css" rel="stylesheet">
    <link href="assets/plugins/messagebox/messagebox.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/plugins/dataTables/jquery.dataTables.css" />
    <link rel="stylesheet" href="assets/plugins/highlight/styles/tomorrow-night-blue.min.css" id="code_theme"/>
    <link rel="manifest" href="manifest.json?ver=1.9" />

    <script src="assets/js/jquery-3.7.0.min.js"></script>
    <script src="assets/js/popper.min.js" ></script>
    <script src="assets/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="assets/plugins/scroll-fixed/jquery-scrolltofixed-min.js"></script>
    <script src="assets/plugins/testimonial/js/owl.carousel.min.js"></script>
    <script src="assets/js/js-snackbar.min.js"></script>
    <script src="assets/plugins/highlight/highlight.min.js"></script>
    <script src="assets/plugins/messagebox/messagebox.min.js"></script>
    <script src="assets/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="assets/js/carrot_site.js"></script>

</head>

<body>
    <header class="head">
        <div class="logo border-bottom">
            <img id="logo_carrot" class="w-100" src="images/logo.jpg" alt="Carrot Store" />
            <a class="navbar-toggler d-block d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><i class="bi fa-solid fa-bars"></i></a>
        </div>
        <div id="navbarNav" class="navcol pt-0 d-none d-lg-block overflow-auto">
            <ul id="list_menu_main">
                <li id="btn_home" class="border-bottom btn-menu"><i class="fa-solid fa-home fs-6 me-2"></i> <lang class="lang" key_lang="home">Home</lang></li>
                <li id="btn_all_app" class="border-bottom btn-menu"><i class="fa-solid fa-mobile bi fs-6 me-2"></i> <i class="bi fs-6  bi-google-play"></i> <lang class="lang" key_lang="app">Applications</lang></li>
                <li id="btn_all_game" class="border-bottom btn-menu"><i class="fa-solid fa-gamepad bi me-2 fs-6"></i> <lang class="lang" key_lang="game">Games</lang></li>
                <li id="btn_address_book" class="border-bottom btn-menu"><i class="fa-solid fa-address-book fs-6 me-2"></i> <lang class="lang" key_lang="phone_book">Phone book</lang></li>
                <li id="btn_list_music" class="border-bottom btn-menu"><i class="fa-solid fa-music fs-6 me-2"></i> Music</li>
                <li id="btn_audio" class="border-bottom btn-menu"><i class="fa-solid fa-guitar fs-6 me-2"></i> Instrumental music</li>
                <li id="btn_wallpapers" class="border-bottom btn-menu"><i class="fa-solid fa-image fs-6 me-2"></i> <lang class="lang" key_lang="wallpaper">Wallpapers</lang></li>
                <li id="btn_all_icon" class="border-bottom btn-menu"><i class="fa-solid fa-face-smile fs-6 me-2"></i> <lang class="lang" key_lang="icon">Icon</lang></li>
                <li id="btn_code" class="border-bottom btn-menu"><i class="fa-solid fa-code fs-6 me-2"></i> Code</li>
                <li id="btn_privacy_policy" class="border-bottom btn-menu"><i class="fa-sharp fa-solid fa-building-shield fs-6 me-2"></i> <lang class="lang" key_lang="privacy_policy">Privacy Policy</lang></li>
                <li id="btn_about_us" class="border-bottom btn-menu"><i class="fa-solid fa-heart fs-6 me-2"></i> <lang class="lang" key_lang="about_us">About Us</lang></li>
                <li id="btn_model_site" class="border-bottom btn-menu"><i class="fa-solid fa-window-maximize fs-6 me-2"></i> Development mode</li>

                <li class="btn-group dropup border-bottom dev btn-menu">
                    <div type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="fa-solid fa-add fs-6 me-2"></i> Add Obj
                    </div>
                    <div class="dropdown-menu" id="list_menu_add">
                        <div class="dropdown-item btn-menu" id="btn_add_app" role="button"><i class="fa-solid fa-add fs-6 me-2"></i> Add App</div>
                        <div class="dropdown-item btn-menu" id="btn_add_music" role="button"><i class="fa-solid fa-circle-plus fs-6 me-2"></i> Add Music</div>
                        <div class="dropdown-item btn-menu" id="btn_add_icon" role="button"><i class="fa-solid fa-add fs-6 me-2"></i> Add Icon</div>
                        <div class="dropdown-item btn-menu" id="btn_add_wallpaper" role="button"><i class="fa-solid fa-add fs-6 me-2"></i> Add Background</div>
                        <div class="dropdown-item btn-menu" id="btn_add_code" role="button"><i class="fa-solid fa-square-plus fs-6 me-2"></i> Add Code</div>
                        <div class="dropdown-item btn-menu" id="btn_add_lang" role="button"><i class="fa-solid fa-add fs-6 me-2"></i> Add Lang</div>
                        <div class="dropdown-item btn-menu" id="btn_add_avatar" role="button"><i class="fa-solid fa-square-plus fs-6 me-2"></i> Add Avatar</div>
                    </div>
                </li>

                <li class="btn-group dropup border-bottom dev btn-menu">
                    <div type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="fa-solid fa-rotate fs-6 me-2"></i> Backup and Sync
                    </div>

                    <div class="dropdown-menu">
                        <div class="dropdown-item btn-menu" id="btn_download_json" role="button"><i class="fa-solid fa-download fs-6 me-2"></i> Export Collection</div>
                        <div class="dropdown-item btn-menu" id="btn_import_json_url" role="button"><i class="fa-solid fa-file-import fs-6 me-2"></i> Import Collection (Url)</div>
                        <div class="dropdown-item btn-menu" id="btn_import_json_file" role="button"><i class="fa-solid fa-file-import fs-6 me-2"></i> Import Collection (File)</div>
                        <div class="dropdown-item btn-menu" id="btn_download_json_doc" role="button"><i class="fa-solid fa-file-lines fs-6 me-2"></i> Export Doc</div>
                        <div class="dropdown-item btn-menu" id="btn_import_json_doc" role="button"><i class="fa-solid fa-file-lines fs-6 me-2"></i> Import Doc (Url)</div>
                    </div>
                </li>

                <li class="btn-group dropup border-bottom dev btn-menu">
                    <div type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="fa-solid fa-language fs-6 me-2"></i> Language Data
                    </div>

                    <div class="dropdown-menu">
                        <div class="dropdown-item btn-menu" id="btn_setting_lang_app" role="button"><i class="fa-solid fa-language fs-6 me-2"></i> Lang all app</div>
                        <div class="dropdown-item btn-menu" id="btn_setting_lang_ailover" role="button"><i class="fa-solid fa-language fs-6 me-2"></i> Lang Ai Lover</div>
                        <div class="dropdown-item btn-menu" id="btn_setting_lang_web" role="button"><i class="fa-solid fa-language fs-6 me-2"></i> Lang web</div>
                    </div>
                </li>

                <li class="btn-group dropup border-bottom dev btn-menu">
                    <div type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="fa-brands fa-rocketchat fs-6 me-2"></i> Ai Lover
                    </div>

                    <div class="dropdown-menu">
                        <div class="dropdown-item btn-menu" id="btn_ai_lover_all_chat" role="button"><i class="fa-brands fa-rocketchat fs-6 me-2"></i> Chat Ai Lover</div>
                        <div class="dropdown-item btn-menu" id="btn_block_chat" role="button"><i class="fa-solid fa-shield-halved fs-6 me-2"></i> Block Key</div>
                        <div class="dropdown-item btn-menu" id="btn_user_avatar" role="button"><i class="fa-solid fa-image fs-6 me-2"></i> User Avatar</div>
                    </div>
                </li>

                <li id="btn_mode_host" class="border-bottom btn-menu dev"><i class="fa-solid fa-dev fs-6 me-2"></i> Localhost</li>
                <li id="btn_version_data" class="border-bottom btn-menu dev"><i class="fa-regular fa-code-compare fs-6 me-2"></i> Version</li>
            </ul>

            <ul id="list_menu_dev" class="dev"></ul>
        </div>
    </header>
    <div class="main-content">
        <div class="nav-bar sticky-top-xl bg-white shadow-sm w-100 p-3">
            <div class="row">
                <div class="col-md-5">
                    <div class="input-group mb-0">
                        <div id="txt_recognition" class="form-control border-end-0 mb-0 d-none"><i class="fa-solid fa-voicemail"></i> <span id="txt_recognition_msg" class="text-primary">Speak into the microphone to search</span></div>
                        <input id="box_input_search" type="text" class="form-control border-end-0 mb-0" placeholder="Search Apps" aria-label="Recipient's username" aria-describedby="basic-addon2">
                        <span class="input-group-text sit border-start-0" id="basic-addon2"><i class="fa-sharp fa-solid fa-magnifying-glass"></i></span>
                        <span role="button" class="input-group-text sit border-start-0" id="btn_recognition"><i class="fa-solid fa-microphone"></i></span>
                    </div>
                </div>
                <div class="col-md-7 text-end">


                    <div class="dropdown pt-2 d-inline">
                        <div id="btn_login" class="btn btn-small btn-light cpfs-8">
                            <i class="fa-solid fa-user"></i> <lang class="lang" key_lang="login">Login</lang>
                        </div>

                        <div id="btn_acc_info" type="button" class="btn btn-small btn-light cpfs-8 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="true">
                            <img id="acc_info_avatar" style="width: 20px;height: 20px;" src="images/avatar_default.png"/> <span id="acc_info_name">User name</span>
                        </div>

                        <ul class="dropdown-menu" id="menu_account" aria-labelledby="btn_acc_info">
                            <li><a role="button" id="btn_acc_login_info" class="dropdown-item"><i class="fa-solid fa-circle-info"></i> <l class="lang" key_lang="acc_info">Edit Info</l></a></li>
                            <li><a id="btn_logout" class="dropdown-item" href="#" > <i class="fa-solid fa-right-from-bracket"></i> <l class="lang" key_lang="logout">Logout</l></a></li>
                        </ul>
                    </div>

                    <a id="btn_change_lang" class="btn btn-small btn-light cpfs-8 d-inline">
                        <i class="fa-solid fa-globe"></i> <lang class="lang" key_lang="select_lang">Change Language</lang> <span class="fs-8 text-warning" id="key_lang">en</span>
                    </a>

                </div>
            </div>
        </div>
        <div id="main_contain" class="section-container p-2 p-xl-4">
            <div class="row m-0 text-center">
                Have a nice day!
            </div>
        </div>
    </div>

    <div class="modal" tabindex="-1" role="dialog" id="box"  data-target=".bd-example-modal-lg">
        <div class="modal-dialog" role="document">
          <div class="modal-content" id="box_body"></div>
        </div>
      </div>

      <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/codejar@3.7.0/codejar.min.js"></script>
      <script>
        var carrot=new Carrot_Site();

        $("#logo_carrot").on("contextmenu", function () { carrot.act_mode_dev(); return false; });
        $("#btn_download_json").click(function () {carrot.download_json();});
        $("#btn_recognition").click(function(){carrot.start_recognition();});
        $("#btn_import_json_url").click(function () {
            var url_json = prompt("Enter url json", "Enter url");
            if (url_json != null) {
                $.ajax(url_json, {
                    success: function (data) {
                        carrot.import_json_by_data(data);
                    }
                });
            };
        });
        $("#btn_add_music").click(function(){carrot.music.show_add_or_edit_music(null,carrot.act_done_add_or_edit)});
        $("#btn_acc_login_info").click(function(){carrot.user.show_user_info_login();})
        $("#btn_code").click(function(){carrot.code.show_list_code()});
        $("#btn_add_code").click(function(){carrot.code.show_add_or_edit_code(null)});
        $(".btn-menu").click(function () {
            $(".btn-menu").removeClass("active");
            $(".btn-menu i").removeClass("fa-bounce");
            $(this).addClass("active");
            $(this).find("i").addClass("fa-bounce");
            var id_fun = $(this).attr("id");

            if (id_fun == "btn_home") carrot.show_home();
            if (id_fun == "btn_address_book") carrot.user.show_all_phone_book();
            if (id_fun == "btn_all_icon") carrot.icon.show_all_icon();
            if (id_fun == "btn_wallpapers") carrot.background.show_all_background();
            if (id_fun == "btn_list_music") carrot.music.show_list_music();
            if (id_fun == "btn_all_app") carrot.app.show_all_app();
            if (id_fun == "btn_all_game") carrot.app.show_all_game();
            if (id_fun == "btn_about_us") {
                $("#main_contain").load(carrot.get_url()+"about_us/" + carrot.lang+".html?ver="+carrot.get_ver_cur("page"));
                carrot.change_title_page("About Us", "?p=about_us","about_us");
            };
            if (id_fun == "btn_privacy_policy") {
                $("#main_contain").load(carrot.get_url()+"privacy_policy/" + carrot.lang+".html?ver="+carrot.get_ver_cur("page"));
                carrot.change_title_page("Privacy Policy", "?p=privacy_policy","privacy_policy");
            };
            if(id_fun=="btn_mode_host") carrot.change_host_connection();
            if(id_fun=="btn_model_site") carrot.change_mode_site();
            if(id_fun=="btn_add_app") carrot.show_box_add_or_edit_app(null,carrot.act_done_add_or_edit);
            if(id_fun=='btn_add_icon') carrot.icon.show_box_add_or_edit_icon(null,carrot.act_done_add_or_edit);
            if(id_fun=='btn_add_wallpaper') carrot.background.show_box_add_or_edit_wallpaper(null);
            if(id_fun=='btn_add_lang') carrot.show_box_add_or_edit_lang(null);
            if(id_fun=='btn_version_data') carrot.show_edit_version_data_version();
            if(id_fun=='btn_ai_lover_all_chat') carrot.ai_lover.show_all_chat_ai_lover();
            if(id_fun=='btn_block_chat') carrot.show_all_block_chat_by_lang();
            if(id_fun=='btn_download_json_doc') carrot.download_json_doc();
            if(id_fun=='btn_import_json_doc') carrot.show_import_json_box(null);
            if(id_fun=='btn_import_json_file') carrot.show_import_json_file();
            if(id_fun=='btn_setting_lang_app') carrot.show_setting_lang_by_key(carrot.lang,'lang_app');
            if(id_fun=='btn_setting_lang_ailover') carrot.show_setting_lang_by_key(carrot.lang,'lang_app_ai_lover');
            if(id_fun=='btn_setting_lang_web') carrot.show_setting_lang_by_key(carrot.lang,'lang_web');
        });

        carrot.show_setting_lang_by_key=async(s_key_lang_change="",s_collection)=>{    
                carrot.ai_lover.setting_lang_change=s_key_lang_change;
                const langRef_tag = doc(db, s_collection, "en");
                const langSnap_tag = await getDoc(langRef_tag);
                var data_obj_lang_tag=new Object();
                if (langSnap_tag.exists()) {
                    data_obj_lang_tag = langSnap_tag.data();
                    data_obj_lang_tag["id"]=langSnap_tag.id;
                }

                const langRef_change = doc(db, s_collection, s_key_lang_change);
                const langSnap_change = await getDoc(langRef_change);
                var data_obj_lang_change=new Object();
                if (langSnap_change.exists()) {
                    data_obj_lang_change = langSnap_change.data();
                    data_obj_lang_change["id"]=langSnap_change.id;
                }

                carrot.ai_lover.setting_lang_collection=s_collection;
                carrot.ai_lover.show_setting_lang(data_obj_lang_tag,data_obj_lang_change);
        }

        carrot.show_all_block_chat_by_lang=async (s_key_lang='')=>{
            if(s_key_lang=='') s_key_lang=carrot.lang;
            const appSnap = await getDoc(doc(db, "block",s_key_lang));
            if (appSnap.exists()) {
                var data_list_key_block=appSnap.data();
                data_list_key_block["lang"]=appSnap.id;
                carrot.ai_lover.show_list_block_chat(data_list_key_block);
            } else {
                $.MessageBox("Chưa có danh sách từ cấm!");
                var data_list_key_block=new Object();
                data_list_key_block["lang"]=s_key_lang;
                data_list_key_block["chat"]=Array("new_key_block");
                carrot.ai_lover.show_list_block_chat(data_list_key_block);
            }
        }

        $("#btn_login").click(function () {
            $.MessageBox({
                message: "<b><i class='fa-solid fa-key'></i> "+carrot.l('login')+"</b>",
                input: {
                    usernames: {type: "text",label: carrot.l("phone"),title: "Enter Your Phone"},
                    password: {type: "password",label:carrot.l("password"),title: "Type password here"},
                    dummy_caption: {type: "caption",message: carrot.l("login_tip")}
                },
                top: "auto",
                buttonFail:carrot.l("cancel"),
                buttonDone  : {login:{text:carrot.l('login'),keyCode: 12},register:{text:carrot.l("register"),keyCode: 13}},
            }).done(function(data,button) {
                var username=data.usernames;
                var password=data.password;
                if(button=='login') carrot.user.check_user_login(username,password);
                if(button=='register') carrot.user.show_register();
            });
        });

        $("#btn_logout").click(function(){carrot.user.user_logout();});
        $("#btn_user_avatar").click(async function(){
            var q = query(collection(db, "user-avatar"));
            var queryUserAvatar = await getDocs(q);
            if(queryUserAvatar.docs.length>0) carrot.ai_lover.show_list_avatar(queryUserAvatar.docs);
        });
        $("#btn_add_avatar").click(function(){carrot.ai_lover.show_box_add_or_edit_avatar(null,carrot.act_done_add_or_edit);});

        carrot.create_editor_code=()=>{
            return CodeJar(document.querySelector('.editor'), hljs.highlightElement);
        }

        $(document).ready(function () {
            var lang_page=carrot.get_param_url("lang");
            if(lang_page!=null){
                if(lang_page!=carrot.lang){
                    carrot.lang_url=lang_page;
                    carrot.change_lang(lang_page);
                    carrot.get_all_data_lang_web();
                    carrot.check_show_by_id_page();
                }
            }
            carrot.check_version_data();
            carrot.load_data_lang_web();
            carrot.user.show_info_user_login_in_header();
            carrot.menu.show();
        });
    </script>
</body>
</html>